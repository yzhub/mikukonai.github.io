
#!title:    图像数字水印
#!date:     2019-07-30
#!authors:  Mikukonai
#!cover:    
#!type:     原创
#!tags:     

#!content

<iframe class="MikumarkIframe" src="./html/图像数字水印.html" height="400px"></iframe>

# 有什么用？

~出现了！有用怪！~ 简单来说就是把一些隐蔽的信息隐藏在图片、音频、视频等数字内容中，以实现内容溯源、信息隐藏、版权保护等。

# 原理简述

- 对图像（RGB或者YUV）作DCT变换，得到变换域图像。
- 在变换域图像上叠加水印，叠加方式有阳文和阴文两类，当然也可以叠加任意值。水印强度可以根据应用场景调整。
- 对叠加水印后的变换域图像作DCT逆变换，即得添加水印的图像。
- 再次进行DCT，就可以看到叠加在变换域上的水印图案。

# 结果分析

- 添加水印后的图片，可见细微的波纹，图片左上角尤其明显。波纹的明显程度跟水印的强度有关系。
- 由于图片的大部分能量集中在低频区域，也就是变换域的左上角，所以水印加在变换域图像的右下角比较好。
- 由于DCT是浮点运算，而Canvas图像的RGB值是整数，存在精度损失，所以复现的水印会出现一定程度的偏色。
- 实验证明，在YUV空间上加水印效果更好，可以消除图像左上角的明显波动。
- 对于一般的照片，例如Lena图，高频成分不多，此时加阳文水印比较明显。但是对于文字、表情包、线稿插画等带有大量的高频线条的图像，加阴文水印较为明显。
- 这里仅仅是将水印图案简单地叠加到变换域上，为了提升安全性，还可以将水印本身做一些变换，再叠加到变换域上。
- 水印的隐匿性和健壮性是一对矛盾：以该演示为例，如果增加水印强度，则水印健壮性更强，但同时会对原图产生更明显的影响。

# 后续工作

- 攻击实验，例如旋转、截取、缩放、重采样、等。
- 选用其他变换，例如FFT、小波等。

# 参考资料

- [Wiki：数字水印](https://zh.wikipedia.org/wiki/%E6%95%B8%E4%BD%8D%E6%B5%AE%E6%B0%B4%E5%8D%B0)
- [阿里根据截图查到泄露者，用的什么黑科技？](https://stgod.com/1482)
